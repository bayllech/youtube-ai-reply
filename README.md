# YouTube AI Auto Reply - Chrome扩展

一个智能的Chrome浏览器扩展，可以自动使用智谱清言AI来回复YouTube视频评论。

## 功能特点

- 🔍 **智能评论检测**: 自动检测YouTube视频页面上的新评论
- 🤖 **AI智能回复**: 使用智谱清言AI生成自然、相关的回复
- ⚙️ **灵活配置**: 支持多种回复风格和自定义设置
- 📊 **统计监控**: 实时显示今日回复数和API状态
- 🛡️ **安全可靠**: API密钥本地存储，不会上传到服务器

## 安装方法

1. **下载或克隆此项目**
   ```bash
   git clone https://github.com/bayllech/youtube-ai-reply.git
   cd youtube-ai-reply
   ```

2. **获取智谱清言API密钥**
   - 访问 [智谱清言开放平台](https://open.bigmodel.cn/)
   - 注册并登录账户
   - 创建新的API密钥
   - 复制生成的API密钥

3. **安装Chrome扩展**
   - 打开Chrome浏览器
   - 访问 `chrome://extensions/`
   - 开启右上角的"开发者模式"
   - 点击"加载已解压的扩展程序"
   - 选择项目文件夹

4. **配置扩展**
   - 点击Chrome工具栏中的扩展图标
   - 输入你的Gemini API密钥
   - 选择回复风格和其他设置
   - 启用自动回复功能

## 使用说明

### 基本设置

1. **API密钥配置**: 输入你在智谱清言开放平台获取的API密钥
2. **回复风格选择**:
   - 友好型: 亲切、礼貌的回复
   - 专业型: 正式、专业的回复
   - 随意型: 轻松、口语化的回复
   - 幽默型: 风趣但不冒犯人的回复
3. **回复延迟**: 建议设置3-5秒，避免过于频繁的回复
4. **单次最大回复数**: 每次刷新页面后最多回复的评论数量
5. **智能体角色设定**: 自定义AI助手的角色和回复风格，但不包括回复格式（格式由系统固定）

### 自动刷新功能

扩展提供自动刷新开关，控制达到单次回复限制后的行为：

- **开启自动刷新**（默认）：
  - 当达到单次最大回复数后，系统会停止所有活动
  - 2分钟无活动后自动刷新页面
  - 刷新后重新开始回复，实现连续回复

- **关闭自动刷新**：
  - 当达到单次最大回复数后，系统停止所有活动
  - 不会自动刷新页面
  - 需要手动刷新页面才能重新开始回复

### 使用建议

- 🔒 **安全提示**: 
  - 不要分享你的API密钥
  - 定期检查API使用情况
  - 建议设置合理的每日回复限制

- 📈 **最佳实践**:
  - 首次使用建议先测试API连接
  - 观察回复质量，调整合适的回复风格
  - 避免在重要视频上过度使用

- ⚠️ **注意事项**:
  - 本扩展仅供学习和研究使用
  - 请遵守YouTube的服务条款
  - 不建议用于商业用途
  - 使用风险自负
  - 开启自动刷新功能会持续进行回复，请注意监控API使用量

## 技术架构

### 智能体配置与回复格式分离设计

本扩展采用智能体角色配置与回复格式分离的设计：

- **用户可配置部分**：智能体角色、频道描述、回复风格等
- **系统固定部分**：JSON回复格式、质量评估标准、操作规则

这种设计确保了：
1. 用户可以自定义AI助手的角色和风格
2. 系统的核心功能（格式化回复、质量评估）保持稳定
3. 避免用户误配置导致功能异常

### 文件结构
```
youtube-ai-reply/
├── manifest.json          # 扩展配置文件
├── background.js          # 后台脚本，处理API调用
├── content.js            # 内容脚本，处理YouTube页面
├── popup.html            # 弹出窗口界面
├── popup.js              # 弹出窗口逻辑
├── styles.css            # 样式文件
└── icons/                # 图标文件
```

### 核心技术
- **Manifest V3**: 使用最新的Chrome扩展API
- **MutationObserver**: 监听YouTube评论动态加载
- **Chrome Storage API**: 安全存储用户设置
- **Gemini AI API**: Google的生成式AI模型

### 工作流程
1. 用户访问YouTube视频页面
2. 内容脚本自动注入并监听评论区域
3. 检测到新评论时，发送到后台脚本
4. 后台脚本调用Gemini API生成回复
5. 内容脚本自动填写并提交回复

## 故障排除

### 常见问题

**Q: 扩展无法加载？**
A: 确保开启了Chrome的开发者模式，并且文件路径正确

**Q: API测试失败？**
A: 检查API密钥是否正确，确保密钥有效且未过期

**Q: 没有自动回复？**
A: 检查是否启用了自动回复功能，确保回复设置正确

**Q: 回复太慢？**
A: 可以适当调整回复延迟，但建议不要太短

### 调试方法

1. 打开Chrome开发者工具（F12）
2. 查看Console日志，了解扩展运行状态
3. 检查Network标签页，确认API调用情况
4. 查看扩展的错误信息

## 开发说明

### 修改和定制
- 修改`content.js`中的评论检测逻辑
- 调整`background.js`中的API调用参数
- 自定义`popup.html`中的用户界面
- 更新`styles.css`中的样式

### 添加新功能
1. 在相应的JavaScript文件中添加新功能
2. 更新`manifest.json`以获取必要的权限
3. 修改用户界面以支持新功能
4. 测试新功能的兼容性

## 免责声明

本扩展仅供学习和研究使用。使用本扩展产生的任何后果由用户自行承担。开发者不对因使用本扩展而导致的任何问题负责。

请遵守YouTube的服务条款和相关法律法规。不要使用本扩展发送垃圾信息或进行其他违规行为。

## 许可证

MIT License

## 贡献

欢迎提交Issue和Pull Request来改进这个项目。

## 更新日志

### v1.0.0
- 初始版本发布
- 基础的自动回复功能
- 支持多种回复风格
- 用户友好的配置界面

---

如果你觉得这个项目有用，请给它一个星标！⭐

## 项目作者

**bayllech** - [GitHub主页](https://github.com/bayllech)